#!/usr/bin/env bash
# This script configures an Ubuntu server to modify the resolution of localhost and facebook.com

# Check if the script is run as root
if [[ $EUID -ne 0 ]]; then
  echo "This script must be run as root. Use sudo." >&2
  exit 1
fi

# Backup the original /etc/hosts file
cp /etc/hosts /etc/hosts.backup

# Add or update entries in /etc/hosts
sed -i '/127.0.0.2 localhost/d' /etc/hosts
sed -i '/8.8.8.8 facebook.com/d' /etc/hosts
echo "127.0.0.2 localhost" >> /etc/hosts
echo "8.8.8.8 facebook.com" >> /etc/hosts

# Display success message
echo "Configuration updated. localhost now resolves to 127.0.0.2 and facebook.com resolves to 8.8.8.8."
